{"version":3,"sources":["components/ResultItem/index.tsx","components/ResultList/index.tsx","components/Header/index.tsx","utils/GradePointConverter.ts","utils/CourseInfo.ts","utils/SemestersAndYears.ts","utils/constants.ts","utils/processHTMLFile.ts","utils/GPA.ts","components/FileReader/index.tsx","components/Footer/index.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["ResultItem","props","type","title","gpa","wam","className","ResultList","gpaData","useContext","AppContext","toFixed","undefined","byYear","map","year","bySemester","semester","semesterName","Header","level2Point","level","score2Point","score","GradePointConvert2Score","gradePoint","CourseInfo","name","credit","initialSemester","passSemester","examSemesters","examYears","currentState","addedYear","examCount","this","includes","slice","push","passedAtThisYear","passedAtThisSemester","SemestersAndYears","Years","Semesters","addedYears","addedSemesters","QUALIFIED","processHTMLFile","HTMLString","semestersAndYears","addedCourses","rawScoreData","processHTMLString","dataTableToArray","textContent","replaceAll","trim","text","rawCourseName","test","dataTable","DOMParser","parseFromString","querySelector","querySelectorAll","forEach","subject","reExam","info","childNodes","length","isReExamCourse","getCleanText","getRealCourseName","parseFloat","parseInt","isNaN","examYear","addYear","addSemester","courseInfo","addExamYear","incrementExamCount","GradePointAverage","courses","coursesOfSemesters","coursesOfYears","phf","Courses","classifyCoursesBySemestersAndYears","totalCredits","totalCreditsMulGradePoint","totalCreditsMulScore","semesters","years","examAtThisSemester","deepCloneCourseInfo","examAtThisYear","result","getTotalGPA","getTotalWAM","FileReaderComponent","setGPAData","useState","size","fileInfo","setFileInfo","loaded","setLoaded","computed","setComputed","file","useRef","useEffect","id","ref","onChange","event","target","files","htmlFor","onClick","current","fileReader","FileReader","currentFile","readAsText","onloadend","evt","content","gpaAndWAM","error","alert","console","log","Footer","React","createContext","App","Provider","value","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+UAuBeA,EAduB,SAACC,GAErC,IAAQC,EAA0BD,EAA1BC,KAAMC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,IAAKC,EAAQJ,EAARI,IAC1B,OACE,sBAAKC,UAAW,aAAhB,UACE,oBAAGA,UAAW,aAAd,UACGJ,EADH,IACUC,KAEV,oBAAGG,UAAW,WAAd,uCAAiCF,KACjC,oBAAGE,UAAW,WAAd,6CAAkCD,SCsCzBE,G,MAnDI,SAACN,GAClB,IAAMO,EAAUC,qBAAWC,GAE3B,OACE,qCACE,qBAAKJ,UAAW,gBAAhB,SACmB,IAAhBE,EAAQJ,IACP,cAAC,EAAD,CACEF,KAAM,eACNC,MAAM,GACNC,IAAKI,EAAQJ,IAAIO,QAAQ,GACzBN,IAAKG,EAAQH,IAAIM,QAAQ,KAG3B,KAGJ,qBAAKL,UAAW,gBAAhB,cACsBM,IAAnBJ,EAAQK,OACLL,EAAQK,OAAOC,KAAI,SAACC,GAClB,OACE,cAAC,EAAD,CAEEb,KAAM,eACNC,MAAOY,EAAKA,KACZX,IAAKW,EAAKX,IAAIO,QAAQ,GACtBN,IAAKU,EAAKV,IAAIM,QAAQ,IAJjBI,EAAKX,QAQhB,KAEN,qBAAKE,UAAW,gBAAhB,cAC0BM,IAAvBJ,EAAQQ,WACLR,EAAQQ,WAAWF,KAAI,SAACG,GACtB,OACE,cAAC,EAAD,CAEEf,KAAM,eACNC,MAAOc,EAASC,aAChBd,IAAKa,EAASb,IAAIO,QAAQ,GAC1BN,IAAKY,EAASZ,IAAIM,QAAQ,IAJrBM,EAASb,QAQpB,UC5CGe,G,YAJA,WACb,OAAO,oBAAIb,UAAW,SAAf,mC,6BCHF,SAASc,EAAYC,GAC1B,OAAQA,GACN,IAAK,eACH,OAAO,IACT,IAAK,SAEL,IAAK,eACH,OAAO,IACT,IAAK,SACH,OAAO,IACT,IAAK,eACH,OAAO,IACT,QACE,OAAO,GAIN,SAASC,EAAYC,GAC1B,OAAIA,GAAS,GACJ,IACEA,GAAS,GACX,EACEA,GAAS,GACX,IACEA,GAAS,GACX,EACEA,GAAS,GACX,IACEA,GAAS,GACX,EACEA,GAAS,GACX,IACEA,GAAS,GACX,EAEA,EASJ,SAASC,EAAwBC,GACtC,OAAQA,GACN,KAAK,IACH,OAAO,GACT,KAAK,EACH,OAAO,GACT,KAAK,IACH,OAAO,GACT,KAAK,EACH,OAAO,GACT,KAAK,IACH,OAAO,GACT,KAAK,EACH,OAAO,GACT,KAAK,IACH,OAAO,GACT,KAAK,EACH,OAAO,GACT,QACE,OAAO,GC9DN,IAAMC,EAAb,WAiBE,WACSC,EACAC,EACAL,EACAE,EACAI,EACAC,EACAC,EACAC,EACAC,GACN,yBATMN,OASP,KAROC,SAQP,KAPOL,QAOP,KANOE,aAMP,KALOI,kBAKP,KAJOC,eAIP,KAHOC,gBAGP,KAFOC,YAEP,KADOC,eACP,KAbMC,eAaN,OAZKC,eAYL,EAUAC,KAAKF,UAAY,GACjBE,KAAKD,UAAY,EAtCrB,kDA8CE,SAAepB,GACb,OAAOqB,KAAKJ,UAAUK,SAAStB,KA/CnC,gCAuDE,SAAmBE,GACjB,OAAOmB,KAAKL,cAAcM,SAASpB,KAxDvC,kCAgEE,SAAqBA,GACnB,OAAOmB,KAAKN,eAAiBb,IAjEjC,8BAyEE,SAAiBF,GACf,OAAOA,IAASqB,KAAKN,aAAaQ,MAAM,GAAI,KA1EhD,sBAgFE,WACE,OAAOF,KAAKH,eAjFhB,yBAwFE,SAAYlB,GACLqB,KAAKF,UAAUnB,KAClBqB,KAAKJ,UAAUO,KAAKxB,GACpBqB,KAAKF,UAAUnB,IAAQ,KA3F7B,gCA+FE,WACEqB,KAAKD,WAAa,IAhGtB,iCAuGE,WACE,IADsC,EAClCR,EAAOS,KAAKT,KACZC,EAASQ,KAAKR,OACdL,EAAQa,KAAKb,MACbE,EAAaW,KAAKX,WAClBI,EAAkBO,KAAKP,gBACvBC,EAAeM,KAAKN,aACpBC,EAAgB,GAPkB,cAQfK,KAAKL,eARU,IAQtC,2BAA2C,CAAC,IAAjCd,EAAgC,QACzCc,EAAcQ,KAAKtB,IATiB,8BAWtC,IAXsC,EAWlCe,EAAY,GAXsB,cAYnBI,KAAKJ,WAZc,IAYtC,2BAAmC,CAAC,IAAzBjB,EAAwB,QACjCiB,EAAUO,KAAKxB,IAbqB,8BAkBtC,MAAO,CACLY,OACAC,SACAL,QACAE,aACAI,kBACAC,eACAC,gBACAC,YACAC,aAZiBG,KAAKH,aAatBE,UAZcC,KAAKD,UAanBK,iBAAkBJ,KAAKI,iBACvBC,qBAAsBL,KAAKK,0BArIjC,KCCqBC,E,WAKnB,aAAe,yBAJRC,WAIO,OAHPC,eAGO,OAFNC,gBAEM,OADNC,oBACM,EACZV,KAAKO,MAAQ,GACbP,KAAKQ,UAAY,GACjBR,KAAKS,WAAa,GAClBT,KAAKU,eAAiB,G,2CAOxB,SAAQ/B,GACDqB,KAAKS,WAAW9B,KACnBqB,KAAKO,MAAMJ,KAAKxB,GAChBqB,KAAKS,WAAW9B,IAAQ,K,yBAQ5B,SAAYE,GACLmB,KAAKU,eAAe7B,KACvBmB,KAAKQ,UAAUL,KAAKtB,GACpBmB,KAAKU,eAAe7B,IAAY,O,KChCzB8B,GAAY,ECUJC,E,WAInB,WAAYC,GAAqB,yBAH1BC,uBAGyB,OAFxBC,kBAEwB,OADxBC,kBACwB,EAC9BhB,KAAKiB,kBAAkBJ,GACvBb,KAAKc,kBAAoB,IAAIR,EAC7BN,KAAKe,aAAe,GACpBf,KAAKkB,mB,yCAQP,WACE,OAAOlB,KAAKe,e,+BAQd,SAAkBI,GAChB,OAAOA,EACJC,WAAW,KAAM,IACjBA,WAAW,KAAM,IACjBA,WAAW,kBAAS,IACpBA,WAAW,kBAAS,IACpBC,S,0BAQL,SAAaC,GACX,OAAOA,EAAKF,WAAW,KAAM,IAAIA,WAAW,KAAM,M,4BAOpD,SAAeG,GACb,MAAO,eAAKC,KAAKD,K,6BAOnB,SAAgBA,GACd,MAAO,eAAKC,KAAKD,K,+BAGnB,SAAkBV,GAChB,IACMY,GADM,IAAIC,WAAYC,gBAAgBd,EAAY,aAClCe,cAAc,qBACpC5B,KAAKgB,aAAgBS,EAAsBI,iBAAiB,Q,8BAG9D,WAAoB,IAAD,OACjB7B,KAAKgB,aAAac,SAAQ,SAACC,GACzB,IAEIC,EAFAC,EAAOF,EAAQF,iBAAiB,MAGhCI,EAAK,GAAGC,WAAWC,OAAS,IAC9BH,EAAS,EAAKI,eACZ,EAAKC,aAAaJ,EAAK,GAAGC,WAAW,GAAGf,eAI5C,IAKIhC,EACAE,EANAE,EAAO,EAAK+C,kBACdL,EAAK,GAAGC,WAAW,GAAGf,aAEpBtC,EAAW,EAAKwD,aAAaJ,EAAK,GAAGd,aACrC3B,EAAS+C,WAAW,EAAKF,aAAaJ,EAAK,GAAGd,cAGlD,GAAIc,EAAKE,OAAS,GAAI,CAGpB9C,EAAaH,EADbC,EAAQqD,SAAS,EAAKH,aAAaJ,EAAK,IAAId,eAGxCsB,MAAMtD,KAGRA,EAAQC,EADRC,EAAaL,EADL,EAAKqD,aAAaJ,EAAK,IAAId,oBAIhC,CAGL9B,EAAaH,EADbC,EAAQqD,SAAS,EAAKH,aAAaJ,EAAK,IAAId,eAGxCsB,MAAMtD,KAGRA,EAAQC,EADRC,EAAaL,EADL,EAAKqD,aAAaJ,EAAK,IAAId,gBAOvC,IAAIuB,EAAW7D,EAASqB,MAAM,GAAI,GAMlC,GALA,EAAKY,kBAAkB6B,QAAQD,GAC/B,EAAK5B,kBAAkB8B,YAAY/D,QAIHL,IAA5B,EAAKuC,aAAaxB,GAAqB,CAEzC,IAAIsD,EAAa,IAAIvD,EACnBC,EACAC,EACAL,EACAE,EACAR,EACAA,EACA,CAACA,GACD,GACA8B,GAEFkC,EAAWC,YAAYJ,GAGnBV,GAAU7C,GAAS,GACrB0D,EAAWE,sBACDf,GAAU7C,EAAQ,IAE5B0D,EAAWhD,aD7IM,MC8IjBgD,EAAWnD,aAAe,IACjBsC,GAAU7C,EAAQ,KAE3B0D,EAAWhD,aDjJM,MCkJjBgD,EAAWnD,aAAe,GAC1BmD,EAAWE,sBAEb,EAAKhC,aAAaxB,GAAQsD,OAI1B,EAAK9B,aAAaxB,GAAMI,cAAcQ,KAAKtB,GAC3C,EAAKkC,aAAaxB,GAAMuD,YAAYJ,GAEhCvD,GAAS,KACX,EAAK4B,aAAaxB,GAAMM,aAAec,EACvC,EAAKI,aAAaxB,GAAMG,aAAeb,EACvC,EAAKkC,aAAaxB,GAAMF,WAAaA,GAGvC,EAAK0B,aAAaxB,GAAMwD,qBAEpB5D,GAAS,EAAK4B,aAAaxB,GAAMJ,QACnC,EAAK4B,aAAaxB,GAAMJ,MAAQA,U,KCjKrB6D,E,WAKnB,WAAYnC,GAAqB,yBAJzBoC,aAIwB,OAHzBnC,uBAGyB,OAFxBoC,wBAEwB,OADxBC,oBACwB,EAC9B,IAAIC,EAAM,IAAIxC,EAAgBC,GAC9Bb,KAAKiD,QAAUG,EAAIC,QACnBrD,KAAKc,kBAAoBsC,EAAItC,kBAC7Bd,KAAKsD,mCAAmCtD,KAAKiD,S,+CAQ/C,SAAYA,GACV,IAAIM,EAAe,EACfC,EAA4B,EAChC,IAAK,IAAMjE,KAAQ0D,EAAS,CAC1BM,GAAgBN,EAAQ1D,GAAMC,OAC9B,IAAIH,EAAa4D,EAAQ1D,GAAMF,WAAa4D,EAAQ1D,GAAMQ,UACtDV,EAAa,IAAGA,EAAa,GACjCmE,GAA6BP,EAAQ1D,GAAMC,OAASH,EAEtD,OAAOmE,EAA4BD,I,yBAQrC,SAAYN,GACV,IAAIM,EAAe,EACfE,EAAuB,EAC3B,IAAK,IAAMlE,KAAQ0D,EACjBM,GAAgBN,EAAQ1D,GAAMC,OAC9BiE,GAAwBR,EAAQ1D,GAAMC,OAASyD,EAAQ1D,GAAMJ,MAE/D,OAAOsE,EAAuBF,I,gDAOhC,SAAmCN,GACjC,IAAMS,EAAY1D,KAAKc,kBAAkBN,UACnCmD,EAAQ3D,KAAKc,kBAAkBP,MACrCP,KAAKkD,mBAAqB,GAC1BlD,KAAKmD,eAAiB,GAJ+B,oBAM9BO,GAN8B,IAMrD,2BAAkC,CAAC,IAAxB7E,EAAuB,QAEhC,IAAK,IAAMU,KADXS,KAAKkD,mBAAmBrE,GAAY,GACjBoE,EAEjB,GAAIA,EAAQ1D,GAAMqE,mBAAmB/E,GAAW,CAC9C,IAAIgE,EAAaI,EAAQ1D,GAAMsE,sBAG7BhB,EAAWhD,eAAiBc,GAC5BkC,EAAW9C,UAAY,IAElB8C,EAAWxC,qBAAqBxB,KACnCgE,EAAWxD,WAAa,IAG5BW,KAAKkD,mBAAmBrE,GAAUsB,KAAK0C,KArBQ,kDA0BlCc,GA1BkC,IA0BrD,2BAA0B,CAAC,IAAhBhF,EAAe,QAExB,IAAK,IAAMY,KADXS,KAAKmD,eAAexE,GAAQ,GACTsE,EAEjB,GAAIA,EAAQ1D,GAAMuE,eAAenF,GAAO,CACtC,IAAIkE,EAAaI,EAAQ1D,GAAMsE,sBAG7BhB,EAAWhD,eAAiBc,GAC5BkC,EAAW9C,UAAY,IAElB8C,EAAWzC,iBAAiBzB,KAC/BkE,EAAWxD,WAAa,IAG5BW,KAAKmD,eAAexE,GAAMwB,KAAK0C,KAzCgB,iC,qBA+CvD,WACE,IAAIkB,EAAqB,CACvB/F,IAAK,EACLC,IAAK,EACLW,WAAY,GACZH,OAAQ,IAMV,IAAK,IAAMI,KAJXkF,EAAOtF,OAAS,GAChBsF,EAAOnF,WAAa,GACpBmF,EAAO/F,IAAMgC,KAAKgE,YAAYhE,KAAKiD,SACnCc,EAAO9F,IAAM+B,KAAKiE,YAAYjE,KAAKiD,SACZjD,KAAKkD,mBAC1Ba,EAAOnF,WAAWuB,KAAK,CACrBrB,aAAcD,EAASuC,WAAW,KAAM,WAAMA,WAAW,KAAM,WAC/DpD,IAAKgC,KAAKgE,YAAYhE,KAAKkD,mBAAmBrE,IAC9CZ,IAAK+B,KAAKiE,YAAYjE,KAAKkD,mBAAmBrE,MAGlD,IAAK,IAAMF,KAAQqB,KAAKmD,eACtBY,EAAOtF,OAAO0B,KAAK,CACjBxB,OACAX,IAAKgC,KAAKgE,YAAYhE,KAAKmD,eAAexE,IAC1CV,IAAK+B,KAAKiE,YAAYjE,KAAKmD,eAAexE,MAG9C,OAAOoF,M,KClCIG,EAlFiC,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACjD,EAAgCC,mBAAS,CACvC7E,KAAM,GACN8E,KAAM,KAFR,mBAAOC,EAAP,KAAiBC,EAAjB,KAKA,EAA4BH,oBAAS,GAArC,mBAAOI,EAAP,KAAeC,EAAf,KACA,EAAgCL,oBAAS,GAAzC,mBAAOM,EAAP,KAAiBC,EAAjB,KAEMC,EAAOC,iBAAgC,MAE7CC,qBAAU,WACc,KAAlBR,EAASD,OACXI,GAAU,GACVE,GAAY,MAEb,CAACL,IA8BJ,OACE,qCACE,sBAAKpG,UAAW,aAAhB,UACE,uBACEJ,KAAK,OACLyB,KAAK,OACLwF,GAAG,OACH7G,UAAW,SACX8G,IAAKJ,EACLK,SAAU,SAACC,GACTX,EAAY,CACVhF,KAAM2F,EAAMC,OAAOC,MAAO,GAAG7F,MAAQ,GACrC8E,KAAMa,EAAMC,OAAOC,MAAO,GAAGf,KAAO,WAAY,OAItD,uBAAOgB,QAAQ,OAAOnH,UAAW,gBAAjC,sCAGA,wBAAOA,UAAW,mBAAoBoH,QA7C1B,WAAO,IAAD,IACtB,eAAIV,EAAKW,eAAT,aAAI,EAAcH,QACXR,EAAKW,QAAQH,MAAM,GAD1B,CAMAT,GAAY,GACZ,IAAIa,EAAa,IAAIC,WACfC,EAAW,OAAGd,QAAH,IAAGA,GAAH,UAAGA,EAAMW,eAAT,aAAG,EAAeH,MAAO,GAC1CI,EAAWG,WAAWD,EAAqB,SAC3CF,EAAWI,UAAY,SAAUC,GAE/B,IAAMC,EAAUD,EAAIV,OAAQpB,OAC5B,IACE,IAAM/F,EAAM,IAAIgF,EAAkB8C,GAClC3B,EAAWnG,EAAI+H,WACf,MAAOC,GACPC,MAAM,0GACNC,QAAQC,IAAIH,GACZrB,GAAY,GACZF,GAAU,UAlBVwB,MAAM,mCA0CN,qCACO,UAGRzB,EACC,qBAAKtG,UAAU,SAAf,SACE,mBAAGA,UAAW,cAAd,SACGwG,EAAW,uCAAW,qCAI3B,OCzEO0B,G,MAXA,WACb,OAAO,mCACL,sBAAKlI,UAAW,SAAhB,UACE,mBAAGA,UAAW,cAAd,uCACA,mBAAGA,UAAW,cAAd,2CACA,mBAAGA,UAAW,cAAd,2CACA,mBAAGA,UAAW,cAAd,sFCCOI,EAAa+H,IAAMC,cAA0B,CACxDtI,IAAK,EACLC,IAAK,EACLW,WAAY,GACZH,OAAQ,KA0BK8H,MAvBf,WACE,MAA8BnC,mBAAqB,CACjDpG,IAAK,EACLC,IAAK,EACLW,WAAY,GACZH,OAAQ,KAJV,mBAAOL,EAAP,KAAgB+F,EAAhB,KAOA,OACE,cAAC7F,EAAWkI,SAAZ,CAAqBC,MAAOrI,EAA5B,SACE,gCACE,cAAC,EAAD,IACA,mBAAGF,UAAW,SAAd,SACE,mBAAGwI,KAAK,+BAAR,wCAEF,cAAC,EAAD,CAAYvC,WAAYA,IACxB,cAAC,EAAD,IACA,cAAC,EAAD,UCpBOwC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.fb4f3725.chunk.js","sourcesContent":["import './index.css'\r\n\r\ninterface RIprops {\r\n  type: string\r\n  title?: string\r\n  gpa: string\r\n  wam: string\r\n}\r\n\r\nconst ResultItem: React.FC<RIprops> = (props) => {\r\n  // console.log(props);\r\n  const { type, title, gpa, wam } = props\r\n  return (\r\n    <div className={'resultCard'}>\r\n      <p className={'item-title'}>\r\n        {type}:{title}\r\n      </p>\r\n      <p className={'item-gpa'}>平均绩点: {gpa}</p>\r\n      <p className={'item-wam'}>加权平均分: {wam}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResultItem\r\n","import { useContext } from 'react'\r\nimport { AppContext } from '../../App'\r\nimport ResultItem from '../ResultItem'\r\nimport './index.css'\r\n\r\nconst ResultList = (props: any) => {\r\n  const gpaData = useContext(AppContext)\r\n  // console.log(\"Result List\",gpaData)\r\n  return (\r\n    <>\r\n      <div className={'listContainer'}>\r\n        {gpaData.gpa !== 0 ? (\r\n          <ResultItem\r\n            type={'总计'}\r\n            title=\"\"\r\n            gpa={gpaData.gpa.toFixed(4)}\r\n            wam={gpaData.wam.toFixed(4)}\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n      <div className={'listContainer'}>\r\n        {gpaData.byYear !== undefined\r\n          ? gpaData.byYear.map((year) => {\r\n              return (\r\n                <ResultItem\r\n                  key={year.gpa}\r\n                  type={'学年'}\r\n                  title={year.year}\r\n                  gpa={year.gpa.toFixed(4)}\r\n                  wam={year.wam.toFixed(4)}\r\n                />\r\n              )\r\n            })\r\n          : ''}\r\n      </div>\r\n      <div className={'listContainer'}>\r\n        {gpaData.bySemester !== undefined\r\n          ? gpaData.bySemester.map((semester) => {\r\n              return (\r\n                <ResultItem\r\n                  key={semester.gpa}\r\n                  type={'学期'}\r\n                  title={semester.semesterName}\r\n                  gpa={semester.gpa.toFixed(4)}\r\n                  wam={semester.wam.toFixed(4)}\r\n                />\r\n              )\r\n            })\r\n          : ''}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResultList\r\n","import \"./index.css\"\r\n\r\nconst Header = () => {\r\n  return <h1 className={\"header\"}>LNTU GPA Calculator</h1>\r\n}\r\n\r\nexport default Header\r\n","export function level2Point(level: string) {\r\n  switch (level) {\r\n    case '优秀':\r\n      return 4.5\r\n    case '良':\r\n      return 3.5\r\n    case '合格':\r\n      return 3.5\r\n    case '中':\r\n      return 2.5\r\n    case '及格':\r\n      return 1.5\r\n    default:\r\n      return 0\r\n  }\r\n}\r\n\r\nexport function score2Point(score: number) {\r\n  if (score >= 95) {\r\n    return 4.5\r\n  } else if (score >= 90) {\r\n    return 4.0\r\n  } else if (score >= 85) {\r\n    return 3.5\r\n  } else if (score >= 80) {\r\n    return 3.0\r\n  } else if (score >= 75) {\r\n    return 2.5\r\n  } else if (score >= 70) {\r\n    return 2.0\r\n  } else if (score >= 65) {\r\n    return 1.5\r\n  } else if (score >= 60) {\r\n    return 1.0\r\n  } else {\r\n    return 0\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {number} gradePoint the grade point of levels\r\n * @return {number} target score\r\n */\r\nexport function GradePointConvert2Score(gradePoint: number) {\r\n  switch (gradePoint) {\r\n    case 4.5:\r\n      return 95\r\n    case 4:\r\n      return 90\r\n    case 3.5:\r\n      return 85\r\n    case 3:\r\n      return 80\r\n    case 2.5:\r\n      return 75\r\n    case 2:\r\n      return 70\r\n    case 1.5:\r\n      return 65\r\n    case 1.0:\r\n      return 60\r\n    default:\r\n      return 0\r\n  }\r\n}\r\n","import { ClonedCourseInfo, StringSet } from './Types'\r\nexport class CourseInfo {\r\n  /**\r\n   * necessary information of a course\r\n   * @param {string} name course name\r\n   * @param {number} credit course credit\r\n   * @param {number} score course score\r\n   * @param {number} gradePoint course grade point\r\n   * @param {string} initialSemester the semester that course open\r\n   * @param {string} passSemester the semester you passed it\r\n   * @param {string[]} examSemesters Semesters you take exam of this course\r\n   * @param {string[]} examYears Years you take exam of this course\r\n   * @param {boolean} currentState current state of this course Q/F\r\n   */\r\n\r\n  private addedYear: StringSet\r\n  public examCount: number\r\n\r\n  constructor(\r\n    public name: string,\r\n    public credit: number,\r\n    public score: number,\r\n    public gradePoint: number,\r\n    public initialSemester: string,\r\n    public passSemester: string,\r\n    public examSemesters: Array<string>,\r\n    public examYears: Array<string>,\r\n    public currentState: boolean\r\n  ) {\r\n    // this.name = name\r\n    // this.credit = credit\r\n    // this.score = score\r\n    // this.gradePoint = gradePoint\r\n    // this.initialSemester = initialSemester\r\n    // this.passSemester = passSemester\r\n    // this.examSemesters = examSemesters\r\n    // this.examYears = examYears\r\n    // this.currentState = currentState\r\n    this.addedYear = {}\r\n    this.examCount = 1\r\n  }\r\n\r\n  /**\r\n   * query whether you took an exam of this course at that year or not\r\n   * @param {string} year the year you want to query\r\n   * @return {boolean} you took an exam of this course at that year or not\r\n   */\r\n  examAtThisYear(year: string) {\r\n    return this.examYears.includes(year)\r\n  }\r\n\r\n  /**\r\n   * query whether you took an exam of this course at that semester or not\r\n   * @param {string} semester the semester you want to query\r\n   * @return {boolean} you took an exam of this course at that semester or not\r\n   */\r\n  examAtThisSemester(semester: string) {\r\n    return this.examSemesters.includes(semester)\r\n  }\r\n\r\n  /**\r\n   * query whether you passed this course at that semester or not\r\n   * @param {string} semester the semester you want to query\r\n   * @return {boolean} you passed this course at that semester or not\r\n   */\r\n  passedAtThisSemester(semester: string) {\r\n    return this.passSemester === semester\r\n  }\r\n\r\n  /**\r\n   * query whether you passed this course at that semester or not\r\n   * @param {string} year the semester you want to query\r\n   * @return {boolean} you passed this course at that semester or not\r\n   */\r\n  passedAtThisYear(year: string) {\r\n    return year === this.passSemester.slice(0, -2)\r\n  }\r\n\r\n  /**\r\n   * @return {boolean} you passed this course or not\r\n   */\r\n  isPassed() {\r\n    return this.currentState\r\n  }\r\n\r\n  /**\r\n   * ensure the exam years are unique\r\n   * @param {string} year\r\n   */\r\n  addExamYear(year: string) {\r\n    if (!this.addedYear[year]) {\r\n      this.examYears.push(year)\r\n      this.addedYear[year] = true\r\n    }\r\n  }\r\n\r\n  incrementExamCount() {\r\n    this.examCount += 1\r\n  }\r\n\r\n  /**\r\n   * deepClone Current Course INFO\r\n   * @return {{score: number, passSemester: string, gradePoint: number, name: string, initialSemester: number, examYears: *[], examSemesters: *[], credit: number, currentState: boolean, examCount: number}}\r\n   */\r\n  deepCloneCourseInfo(): ClonedCourseInfo {\r\n    let name = this.name\r\n    let credit = this.credit\r\n    let score = this.score\r\n    let gradePoint = this.gradePoint\r\n    let initialSemester = this.initialSemester\r\n    let passSemester = this.passSemester\r\n    let examSemesters = []\r\n    for (const semester of this.examSemesters) {\r\n      examSemesters.push(semester)\r\n    }\r\n    let examYears = []\r\n    for (const year of this.examYears) {\r\n      examYears.push(year)\r\n    }\r\n    let currentState = this.currentState\r\n    let examCount = this.examCount\r\n\r\n    return {\r\n      name,\r\n      credit,\r\n      score,\r\n      gradePoint,\r\n      initialSemester,\r\n      passSemester,\r\n      examSemesters,\r\n      examYears,\r\n      currentState,\r\n      examCount,\r\n      passedAtThisYear: this.passedAtThisYear,\r\n      passedAtThisSemester: this.passedAtThisSemester,\r\n    }\r\n  }\r\n}\r\n","import { StringSet } from './Types'\r\n\r\nexport default class SemestersAndYears {\r\n  public Years: Array<string>\r\n  public Semesters: Array<string>\r\n  private addedYears: StringSet\r\n  private addedSemesters: StringSet\r\n  constructor() {\r\n    this.Years = []\r\n    this.Semesters = []\r\n    this.addedYears = {}\r\n    this.addedSemesters = {}\r\n  }\r\n\r\n  /**\r\n   * add unique years\r\n   * @param {string} year\r\n   */\r\n  addYear(year: string) {\r\n    if (!this.addedYears[year]) {\r\n      this.Years.push(year)\r\n      this.addedYears[year] = true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * add unique semesters\r\n   * @param {string} semester\r\n   */\r\n  addSemester(semester: string) {\r\n    if (!this.addedSemesters[semester]) {\r\n      this.Semesters.push(semester)\r\n      this.addedSemesters[semester] = true\r\n    }\r\n  }\r\n}\r\n","export const QUALIFIED = true\r\nexport const UNQUALIFIED = false\r\n","import {\r\n  score2Point,\r\n  level2Point,\r\n  GradePointConvert2Score,\r\n} from './GradePointConverter'\r\nimport { CourseInfo } from './CourseInfo'\r\nimport SemestersAndYears from './SemestersAndYears'\r\nimport { QUALIFIED, UNQUALIFIED } from './constants'\r\nimport { CourseMap } from './Types'\r\n\r\nexport default class processHTMLFile {\r\n  public semestersAndYears: SemestersAndYears\r\n  private addedCourses: CourseMap\r\n  private rawScoreData!: NodeListOf<HTMLTableRowElement>\r\n  constructor(HTMLString: string) {\r\n    this.processHTMLString(HTMLString)\r\n    this.semestersAndYears = new SemestersAndYears()\r\n    this.addedCourses = {}\r\n    this.dataTableToArray()\r\n  }\r\n\r\n  /**\r\n   * get course information\r\n   * @return {*|{}}\r\n   * @constructor\r\n   */\r\n  get Courses() {\r\n    return this.addedCourses\r\n  }\r\n\r\n  /**\r\n   * delete \\n \\t (补考) (重学)\r\n   * @param {string} textContent\r\n   * @return {string}\r\n   */\r\n  getRealCourseName(textContent: string) {\r\n    return textContent\r\n      .replaceAll('\\n', '')\r\n      .replaceAll('\\t', '')\r\n      .replaceAll(' (补考)', '')\r\n      .replaceAll(' (重学)', '')\r\n      .trim()\r\n  }\r\n\r\n  /**\r\n   * delete \\n and \\t from text\r\n   * @param {string} text\r\n   * @return {string}\r\n   */\r\n  getCleanText(text: string) {\r\n    return text.replaceAll('\\n', '').replaceAll('\\t', '')\r\n  }\r\n\r\n  /**\r\n   * @param {string} rawCourseName\r\n   * @return {boolean} whether this course is reExam or not\r\n   */\r\n  isReExamCourse(rawCourseName: string) {\r\n    return /补考/.test(rawCourseName)\r\n  }\r\n\r\n  /**\r\n   * @param {string} rawCourseName\r\n   * @return {boolean} whether this course is reStudy or not\r\n   */\r\n  isReStudyCourse(rawCourseName: string) {\r\n    return /重学/.test(rawCourseName)\r\n  }\r\n\r\n  processHTMLString(HTMLString: string) {\r\n    const dom = new DOMParser().parseFromString(HTMLString, 'text/html')\r\n    const dataTable = dom.querySelector('.grid table tbody')\r\n    this.rawScoreData = (dataTable as Element).querySelectorAll('tr')\r\n  }\r\n\r\n  dataTableToArray() {\r\n    this.rawScoreData.forEach((subject) => {\r\n      let info = subject.querySelectorAll('td')\r\n      // get state of a course\r\n      let reExam\r\n      if (info[3].childNodes.length > 1) {\r\n        reExam = this.isReExamCourse(\r\n          this.getCleanText(info[3].childNodes[1].textContent as string)\r\n        )\r\n      }\r\n      // get information of a course\r\n      let name = this.getRealCourseName(\r\n        info[3].childNodes[0].textContent as string\r\n      )\r\n      let semester = this.getCleanText(info[0].textContent as string)\r\n      let credit = parseFloat(this.getCleanText(info[5].textContent as string))\r\n      let score\r\n      let gradePoint\r\n      if (info.length > 13) {\r\n        // if one person has not passed courses, table structure is different from the others\r\n        score = parseInt(this.getCleanText(info[12].textContent as string))\r\n        gradePoint = score2Point(score)\r\n        let level = undefined\r\n        if (isNaN(score)) {\r\n          level = this.getCleanText(info[12].textContent as string)\r\n          gradePoint = level2Point(level)\r\n          score = GradePointConvert2Score(gradePoint)\r\n        }\r\n      } else {\r\n        // others who passed all courses\r\n        score = parseInt(this.getCleanText(info[10].textContent as string))\r\n        gradePoint = score2Point(score)\r\n        let level = undefined\r\n        if (isNaN(score)) {\r\n          level = this.getCleanText(info[10].textContent as string)\r\n          gradePoint = level2Point(level)\r\n          score = GradePointConvert2Score(gradePoint)\r\n        }\r\n      }\r\n\r\n      // year the exam have been taken\r\n      let examYear = semester.slice(0, -2)\r\n      this.semestersAndYears.addYear(examYear)\r\n      this.semestersAndYears.addSemester(semester)\r\n\r\n      // ensure the courses is unique\r\n      // read information about this course for the first time\r\n      if (this.addedCourses[name] === undefined) {\r\n        // successfully passed\r\n        let courseInfo = new CourseInfo(\r\n          name,\r\n          credit,\r\n          score,\r\n          gradePoint,\r\n          semester,\r\n          semester,\r\n          [semester],\r\n          [],\r\n          QUALIFIED\r\n        )\r\n        courseInfo.addExamYear(examYear)\r\n\r\n        // reExam and passed\r\n        if (reExam && score >= 60) {\r\n          courseInfo.incrementExamCount()\r\n        } else if (!reExam && score < 60) {\r\n          // you are not passed it but no reExam\r\n          courseInfo.currentState = UNQUALIFIED\r\n          courseInfo.passSemester = ''\r\n        } else if (reExam && score < 60) {\r\n          // you reExam but still not pass this course\r\n          courseInfo.currentState = UNQUALIFIED\r\n          courseInfo.passSemester = ''\r\n          courseInfo.incrementExamCount()\r\n        }\r\n        this.addedCourses[name] = courseInfo\r\n      } else {\r\n        // read information about this course again\r\n        // should add exam DATE information\r\n        this.addedCourses[name].examSemesters.push(semester)\r\n        this.addedCourses[name].addExamYear(examYear)\r\n        // you passed it\r\n        if (score >= 60) {\r\n          this.addedCourses[name].currentState = QUALIFIED\r\n          this.addedCourses[name].passSemester = semester\r\n          this.addedCourses[name].gradePoint = gradePoint\r\n        }\r\n        // increment the exam count\r\n        this.addedCourses[name].incrementExamCount()\r\n        // update score\r\n        if (score >= this.addedCourses[name].score) {\r\n          this.addedCourses[name].score = score\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","import processHTMLFile from './processHTMLFile'\r\nimport { QUALIFIED } from './constants'\r\nimport { CourseMap, ClassifiedCourses, ResultType } from './Types'\r\nimport SemestersAndYears from './SemestersAndYears'\r\n\r\nexport default class GradePointAverage {\r\n  private courses: CourseMap\r\n  public semestersAndYears: SemestersAndYears\r\n  private coursesOfSemesters!: ClassifiedCourses\r\n  private coursesOfYears!: ClassifiedCourses\r\n  constructor(HTMLString: string) {\r\n    let phf = new processHTMLFile(HTMLString)\r\n    this.courses = phf.Courses\r\n    this.semestersAndYears = phf.semestersAndYears\r\n    this.classifyCoursesBySemestersAndYears(this.courses)\r\n  }\r\n\r\n  /**\r\n   * calculate the total gpa of one person\r\n   * @param {processHTMLFile} courses\r\n   * @return {number}\r\n   */\r\n  getTotalGPA(courses: any) {\r\n    let totalCredits = 0\r\n    let totalCreditsMulGradePoint = 0\r\n    for (const name in courses) {\r\n      totalCredits += courses[name].credit\r\n      let gradePoint = courses[name].gradePoint / courses[name].examCount\r\n      if (gradePoint < 1) gradePoint = 1\r\n      totalCreditsMulGradePoint += courses[name].credit * gradePoint\r\n    }\r\n    return totalCreditsMulGradePoint / totalCredits\r\n  }\r\n\r\n  /**\r\n   * calculate the total wam of one person\r\n   * @param {processHTMLFile.Courses} courses\r\n   * @return {number}\r\n   */\r\n  getTotalWAM(courses: any) {\r\n    let totalCredits = 0\r\n    let totalCreditsMulScore = 0\r\n    for (const name in courses) {\r\n      totalCredits += courses[name].credit\r\n      totalCreditsMulScore += courses[name].credit * courses[name].score\r\n    }\r\n    return totalCreditsMulScore / totalCredits\r\n  }\r\n\r\n  /**\r\n   * classify courses by Semesters And Years\r\n   * @param {processHTMLFile.Courses} courses\r\n   */\r\n  classifyCoursesBySemestersAndYears(courses: CourseMap) {\r\n    const semesters = this.semestersAndYears.Semesters\r\n    const years = this.semestersAndYears.Years\r\n    this.coursesOfSemesters = {}\r\n    this.coursesOfYears = {}\r\n\r\n    for (const semester of semesters) {\r\n      this.coursesOfSemesters[semester] = []\r\n      for (const name in courses) {\r\n        // exam at this semester\r\n        if (courses[name].examAtThisSemester(semester)) {\r\n          let courseInfo = courses[name].deepCloneCourseInfo()\r\n          // if qualified and examCount greater than 2\r\n          if (\r\n            courseInfo.currentState === QUALIFIED &&\r\n            courseInfo.examCount > 2\r\n          ) {\r\n            if (!courseInfo.passedAtThisSemester(semester)) {\r\n              courseInfo.gradePoint = 0\r\n            }\r\n          }\r\n          this.coursesOfSemesters[semester].push(courseInfo)\r\n        }\r\n      }\r\n    }\r\n\r\n    for (const year of years) {\r\n      this.coursesOfYears[year] = []\r\n      for (const name in courses) {\r\n        // exam at this year\r\n        if (courses[name].examAtThisYear(year)) {\r\n          let courseInfo = courses[name].deepCloneCourseInfo()\r\n          // if qualified and examCount greater than 2\r\n          if (\r\n            courseInfo.currentState === QUALIFIED &&\r\n            courseInfo.examCount > 2\r\n          ) {\r\n            if (!courseInfo.passedAtThisYear(year)) {\r\n              courseInfo.gradePoint = 0\r\n            }\r\n          }\r\n          this.coursesOfYears[year].push(courseInfo)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  get gpaAndWAM() {\r\n    let result: ResultType = {\r\n      gpa: 0,\r\n      wam: 0,\r\n      bySemester: [],\r\n      byYear: [],\r\n    }\r\n    result.byYear = []\r\n    result.bySemester = []\r\n    result.gpa = this.getTotalGPA(this.courses)\r\n    result.wam = this.getTotalWAM(this.courses)\r\n    for (const semester in this.coursesOfSemesters) {\r\n      result.bySemester.push({\r\n        semesterName: semester.replaceAll(' 1', ' 秋').replaceAll(' 2', ' 春'),\r\n        gpa: this.getTotalGPA(this.coursesOfSemesters[semester]),\r\n        wam: this.getTotalWAM(this.coursesOfSemesters[semester]),\r\n      })\r\n    }\r\n    for (const year in this.coursesOfYears) {\r\n      result.byYear.push({\r\n        year,\r\n        gpa: this.getTotalGPA(this.coursesOfYears[year]),\r\n        wam: this.getTotalWAM(this.coursesOfYears[year]),\r\n      })\r\n    }\r\n    return result\r\n  }\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport './index.css'\r\nimport GradePointAverage from '../../utils/GPA'\r\nimport { ResultType } from '../../utils/Types'\r\n\r\ninterface FRCprops {\r\n  setGPAData: React.Dispatch<React.SetStateAction<ResultType>>\r\n}\r\n\r\nconst FileReaderComponent: React.FC<FRCprops> = ({ setGPAData }) => {\r\n  const [fileInfo, setFileInfo] = useState({\r\n    name: '',\r\n    size: '',\r\n  })\r\n\r\n  const [loaded, setLoaded] = useState(false)\r\n  const [computed, setComputed] = useState(false)\r\n\r\n  const file = useRef<HTMLInputElement | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (fileInfo.size !== '') {\r\n      setLoaded(true)\r\n      setComputed(false)\r\n    }\r\n  }, [fileInfo])\r\n\r\n  //   const GPAStat = useContext(AppContext)\r\n\r\n  const calculate = () => {\r\n    if (file.current?.files) {\r\n      if (!file.current.files[0]) {\r\n        alert('请选择文件')\r\n        return\r\n      }\r\n    }\r\n    setComputed(true)\r\n    let fileReader = new FileReader()\r\n    const currentFile = file?.current?.files![0]\r\n    fileReader.readAsText(currentFile as File, 'utf-8')\r\n    fileReader.onloadend = function (evt) {\r\n      // 在文件读取完毕后，其内容将被保存在result属性中\r\n      const content = evt.target!.result\r\n      try {\r\n        const gpa = new GradePointAverage(content as string)\r\n        setGPAData(gpa.gpaAndWAM)\r\n      } catch (error) {\r\n        alert('文件格式错误或内容异常，请重新选择')\r\n        console.log(error)\r\n        setComputed(false)\r\n        setLoaded(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={'fileReader'}>\r\n        <input\r\n          type=\"file\"\r\n          name=\"file\"\r\n          id=\"file\"\r\n          className={'hidden'}\r\n          ref={file}\r\n          onChange={(event) => {\r\n            setFileInfo({\r\n              name: event.target.files![0].name || '',\r\n              size: event.target.files![0].size + ' Bytes' || '',\r\n            })\r\n          }}\r\n        />\r\n        <label htmlFor=\"file\" className={'Btn selectBtn'}>\r\n          选择文件\r\n        </label>\r\n        <label className={'Btn calculateBtn'} onClick={calculate}>\r\n          计算成绩{' '}\r\n        </label>\r\n      </div>\r\n      {loaded ? (\r\n        <div className=\"notice\">\r\n          <p className={'notice-item'}>\r\n            {computed ? '计算结果如下' : '文件已加载'}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FileReaderComponent\r\n","import \"./index.css\"\r\nconst Footer = () => {\r\n  return <>\r\n    <div className={\"footer\"}>\r\n      <p className={\"footer-item\"}>参与制作:</p>\r\n      <p className={\"footer-item\"}>@xcl/软件学院</p>\r\n      <p className={\"footer-item\"}>@ddc/软件学院</p>\r\n      <p className={\"footer-item\"}>@RealmsPro/电子与信息工程学院</p>\r\n    </div>\r\n  </>\r\n}\r\n\r\nexport default Footer\r\n","import React, { useState } from 'react'\nimport ResultList from './components/ResultList'\nimport './App.css'\nimport Header from './components/Header'\nimport FileReader from './components/FileReader'\nimport Footer from './components/Footer'\nimport { ResultType } from './utils/Types'\n\nexport const AppContext = React.createContext<ResultType>({\n  gpa: 0,\n  wam: 0,\n  bySemester: [],\n  byYear: [],\n})\n\nfunction App() {\n  const [gpaData, setGPAData] = useState<ResultType>({\n    gpa: 0,\n    wam: 0,\n    bySemester: [],\n    byYear: [],\n  })\n  // console.log(gpaData)\n  return (\n    <AppContext.Provider value={gpaData}>\n      <div>\n        <Header />\n        <p className={'readme'}>\n          <a href=\"https://gpahelp.xcland.tech/\">使用指北</a>\n        </p>\n        <FileReader setGPAData={setGPAData} />\n        <ResultList />\n        <Footer />\n      </div>\n    </AppContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}